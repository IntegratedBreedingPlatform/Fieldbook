<div class="modal fade vs-modal" tabindex="-1" role="dialog" aria-labelledby="vs-modal-title" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<!-- Title will get inserted here -->
			</div>
			<div class="modal-body">
				<div class="vs-ps-container"></div>
				<div class="vs-content-container">
					<!-- TODO Awaiting Rebecca's JSONified variable usage service
					<ul class="nrm-var-select-popular-vars"></ul> -->
					<div class="vs-variable-list"></div>
					<div class="vs-related-props-container"></div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" th:utext="#{common.form.done.text}">Done</button>
			</div>
		</div>
	</div>
</div>

<!-- Renders a property's list of variables. The service we use strips out properties with no variables, so it should never be empty. -->
<script id="variable-template" type="text/x-handlebars-template">
<h3 th:utext="#{add.variable.dialog.variablelist}">Variables</h3>
<ul>
	{{#each variables}}
	<li class="vs-variable">
	<p>
		<span class="vs-variable-name-container">{{> variable-name}}</span>

		{{#if selected}}
			<button type="button" class="btn btn-default btn-s vs-variable-select icon-btn" disabled="disabled">
				<span class="glyphicon glyphicon-ok"></span>
			</button>
		{{else}}
			<button type="button" class="btn btn-default btn-s vs-variable-select icon-btn">
				<span class="glyphicon glyphicon-plus"></span>
			</button>
		{{/if}}
	</p>
	<p>{{description}}</p>
	</li>
	{{/each}}
</ul>
</script>

<script id="related-prop-template" type="text/x-handlebars-template">

{{#if column1}}

<h3>Related Properties</h3>
<div class="vs-related-props-list">
    <div class="vs-related-prop">
        <ul>
            {{#each column1}}
			<li>
				<a href="#" class="vs-related-prop-name" data-id="{{propertyId}}">{{name}}</a>
			</li>
			{{/each}}
        </ul>
    </div>
    <div class="vs-related-prop">
        <ul>
            {{#each column2}}
			<li>
				<a href="#" class="vs-related-prop-name" data-id="{{propertyId}}">{{name}}</a>
			</li>
			{{/each}}
        </ul>
    </div>
</div>

{{/if}}
</script>

<script id="vs-property-select-template" type="text/x-handlebars-template">
	<input class="vs-ps-input" type="hidden"></input>
</script>

<!-- Renders a variable name. Expects a variable object with a name and optional alias property. -->
<script id="vs-variable-name-partial" type="text/x-handlebars-template">
	<span class="vs-variable-name">{{name}}</span>
	{{#if alias}}
		<span> ({{alias}})</span>
	{{/if}}

	{{#unless selected}}
		<button type="button" class="btn btn-default btn-s vs-alias-edit icon-btn">
			<span class="glyphicon glyphicon-pencil"></span>
		</button>
	{{/unless}}
</script>

<!-- Renders an input that allows a user to provide an alias for a variable. Expects an object with a placeholder and optional alias.-->
<script id="vs-alias-edit-template" type="text/x-handlebars-template">
	<input class="vs-alias-input" placeholder="Enter an alias" th:placeholder="#{variable.selection.alias}" type="text" data-index="{{index}}" value="{{alias}}"></input>
	<button type="button" class="btn btn-default btn-xs vs-alias-save icon-btn">
		<span class="glyphicon glyphicon-ok"></span>
	</button>
	<button type="button" class="btn btn-default btn-xs vs-alias-cancel icon-btn">
		<span class="glyphicon glyphicon-remove"></span>
	</button>
</script>

<!-- Also expose the variable name partial as a template for standalone use.-->
<script id="vs-variable-name-template" type="text/x-handlebars-template">
	{{> variable-name}}
</script>

