<div>   
<h4>Primary Germplasm List</h4> 
<form onsubmit="return do_germplasm_check();" id="germplasm-list-form" role="form-horizontal" class="form-horizontal" action="#"
  th:action="@{/NurseryManager/importGermplasmList/next}" method="post" th:object="${importGermplasmListForm}" enctype="multipart/form-data">
      
      <input type="hidden" th:field="*{chooseSpecifyCheck}"/>
       <input type="hidden" th:field="*{totalGermplasms}"/>
      
    <!-- case 1: no data means no table -->
     <div th:if="*{paginatedImportedGermplasm == null or #lists.isEmpty(paginatedImportedGermplasm)}">
       <span class="noGermplasmListIndicator" th:text="#{nursery.import.no.germplasm.list}">No Germplasm list</span>
     </div>
     
     <!-- case 2: advanced view of the importedGermplasm -->
     <div th:if="*{paginatedImportedGermplasm != null and not #lists.isEmpty(paginatedImportedGermplasm)}">
       <div class="germplasm-list-table" th:if="*{importedGermplasmMainInfo.isAdvanceImportType()}">
         <table th:if="*{not #lists.isEmpty(paginatedImportedGermplasm)}" class="my-class table table-curved table-condensed germplasm-list-items">
           <thead>
             <tr>
               <th class="check-col" th:utext="#{nursery.import.header.check}">.Check</th>
               <th th:utext="#{nursery.import.header.entry}">.Entry</th>
               <th th:utext="#{nursery.import.header.designation}">.Designation</th>
               <th th:utext="#{nursery.import.header.gid}">.GID</th>
               <th th:utext="#{nursery.import.header.cross}">.Cross</th>
               <th th:utext="#{nursery.import.header.source}">.Source</th>
               <th th:utext="#{nursery.import.header.entrycode}">.Entry Code</th>
             </tr>
           </thead>
           <tbody th:remove="all-but-first">
             <tr th:each="gid, row : *{paginatedImportedGermplasm}">
               <td align="center" th:class="${row.even}? 'even check-col' : 'odd check-col'">
               
               <select th:field="*{paginatedImportedGermplasm[__${row.index}__].check}" class="form-control primarylist-select">
               <option th:each="type: ${checkLists}" th:value="${type.id}" th:text="${type.description}"></option>
               </select>
               </td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.entryId}">.1</td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.desig}">.2</td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.gid}">.3</td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.cross}">.4</td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.source}">.5</td>
               <td align="center" th:class="${row.even}? 'even' : 'odd'" th:text="${gid.entryCode}">.6</td>
             </tr>
             <tr>
               <td>.1.1</td>
               <td>.1</td>
               <td>.2</td>
               <td>.3</td>
               <td>.4</td>
               <td>.5</td>
               <td>.6</td>
             </tr>
           </tbody>
         </table>
       </div>
     </div>

     <!-- case 3: basic view of the importedGermplasm -->
     <div th:if="*{paginatedImportedGermplasm != null and not #lists.isEmpty(paginatedImportedGermplasm)}">
       <div class="germplasm-list-table" th:if="*{not importedGermplasmMainInfo.isAdvanceImportType()}">
         <table th:if="*{not #lists.isEmpty(paginatedImportedGermplasm)}" class="my-class table table-curved table-condensed germplasm-list-items">
           <thead>
             <tr>
               <th class="check-col" th:utext="#{nursery.import.header.check}">.Check</th>
               <th th:utext="#{nursery.import.header.entry}">.Entry</th>
               <th th:utext="#{nursery.import.header.designation}">.Designation</th>
             </tr>
           </thead>
           <tbody th:remove="all-but-first">
             <tr th:each="gid, row : *{paginatedImportedGermplasm}">
               <td align="center" th:class="${row.even}? 'even check-col' : 'odd check-col'">
               <select th:field="*{paginatedImportedGermplasm[__${row.index}__].check}" class="form-control primarylist-select">
               <option th:each="type: ${checkLists}" th:value="${type.id}" th:text="${type.description}"></option>
               </select>
               </td>
               <td th:class="${row.even}? 'even' : 'odd'" th:text="${gid.entryId}">.1</td>
               <td th:class="${row.even}? 'even' : 'odd'" th:text="${gid.desig}">.2</td>
             </tr>
             <tr>
               <td>.1.1</td>
               <td>.1</td>
               <td>.2</td>
             </tr>
           </tbody>
         </table>
       </div>
     </div>
     
   
   		<div> 
	        <div th:if="*{importedGermplasm != null and not #lists.isEmpty(importedGermplasm)}">
	        	<div id="germplasm-list-pagination"></div>
	        </div>
        </div>
        
     <div th:if="*{paginatedImportedGermplasm != null or not #lists.isEmpty(paginatedImportedGermplasm)}">
       <span class="h3" th:text="#{germplasm.list.specify.checks}">Specify Checks</span>
       
       <div class="row">				
				<div class="row  form-group col-xs-12 col-md-12">
					<div class="col-xs-4 col-md-4">
						<label class="control-label">&nbsp;</label>
					</div>					
					<div class="col-xs-3 col-md-3 add_top_padding">
						<a href="javascript: showManageCheckTypePopup()" th:text="#{germplasm.list.manage.check.types}"></a>
					</div>		
				</div>							 				
		</div>
		 <div class="row">				
				<div class="row  form-group  col-xs-12 col-md-12">
					<div class="col-xs-4 col-md-4">
						<label class="control-label">Interval</label><span class="required">*</span>
					</div>
					<div class="col-xs-3 col-md-3">
						<input style="width: 50px" type="text" th:field="*{interval}" class="form-control spinner-input" />
					</div>		
				</div>							 				
		</div>
		 <div class="row">				
				<div class="row  form-group  col-xs-12 col-md-12">
					<div class="col-xs-4 col-md-4">
						<label class="control-label">Manner of Insertion</label><span class="required">*</span>
					</div>
					<div class="col-xs-3 col-md-3">
						<select class="form-control" th:field="*{mannerOfInsertion}">
							<option value="1">In turn</option>
							<option value="2">Per Location</option>
						</select>
					</div>	
							
				</div>							 				
		</div>
     </div>
     
     <div class="row">
		<div id="manage-location" th:include="/NurseryManager/manageCheckType"></div>
	</div>
     <br />
     
     </form>
     
 </div>
 <script type="text/javascript" th:src="@{/static/js/bootstrap-paginator.min.js}"></script>
<script type='text/javascript' th:inline="javascript">
	//<![CDATA[
        var paginationUrl = /*[[@{/NurseryManager/importGermplasmList/page/}]]*/;
        var checkTypes = /*[[${checkTypes}]]*/ null;
        var checkTypes_obj = [];
        
        var options = {
            currentPage: /*[[${importGermplasmListForm.currentPage}]]*/,
            totalPages: /*[[${importGermplasmListForm.totalPages}]]*/,

            alignment:'center',
            useBootstrapTooltip:true,
            onPageClicked: function(e,originalEvent,type,page){            	
            	showPostPage(paginationUrl, options.currentPage, page, 'imported-germplasm-list', 'germplasm-list-form');
            }
        }
        $( document ).ready(function() {  
			if($('#germplasm-list-pagination') != null){
				$('#germplasm-list-pagination').bootstrapPaginator(options);
			}
	        /*
			$('select').each(function(){
				$(this).select2();
			});
			*/
			$('#manageCheckTypesModal').on('hidden.bs.modal', function (e) {
				  //console.log('reload the drop down');
				  reloadCheckTypeDropDown(false, 'primarylist-select');
				  reloadCheckTypeDropDown(false, 'checklist-select');
				});
			
			//reloadCheckTypeDropDown(true, 'primarylist-select');
			$('.primarylist-select').select2();
			initializeCheckTypeSelect2(checkTypes, [], false, 0, "comboCheckCode");
			$("#updateCheckTypes").hide();
			$("#deleteCheckTypes").hide();
			$('#mannerOfInsertion').select2();
			
			$('#interval').spinedit({
				minimum: 1,
				maximum: parseInt($('#totalGermplasms').val()),
				step: 1
			});
        });
        
      //]]>
    </script>