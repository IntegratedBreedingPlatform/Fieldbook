<div class="col-xs-12 col-md-12" ng-controller="EnvironmentCtrl">
    <div class="row">
        <label class="control-label section-toggle toggle-icon" slide-toggle="" section=".environments">
            <img style="margin-left: -10px" class="icn section-expanded" th:src="@{/static/img/expanded-arrow.png}" />
            <img style="display:none; margin-left: -7px" class="icn section-collapsed" th:src="@{/static/img/collapsed-arrow.png}" />
            <strong class="sub-content-heading" >Define Environments</strong>
        </label>
    </div>
    <div class="row form-group environments">
        <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
            <label class="control-label">Specify the number of environments for this trial:</label>
            <div class="pull-right">
                <input valid-number="" class="form-control" ng-model="temp.noOfEnvironments"/>
            </div>
        </div>
    </div>
    <div class="row environments">
        <div class="col-xs-6 col-md-6">
            <div class="form-group">
                <label class="control-label">
                    <strong class="sub-content-heading">MANAGEMENT DETAILS</strong>
                </label>

                <span select-standard-variable="" class="btn btn-info pull-right"
                   variable-type="1" labels="labels.managementDetails" modeldata="data.managementDetails">Add</span>
            </div>
            <div class="form-horizontal sectionContainer">
                <display-settings settings="data.managementDetails"></display-settings>
            </div>
        </div>
        <div class="col-xs-6 col-md-6">
            <div class="form-group">
                <label class="control-label">
                    <strong class="sub-content-heading">TRIAL CONDITION DETAILS</strong>
                </label>

                <span select-standard-variable="" class="btn btn-info pull-right"
                   variable-type="1" labels="labels.trialConditionDetails" modeldata="data.trialConditionDetails">Add</span>
            </div>
            <div class="form-horizontal sectionContainer">
                <display-settings settings="data.trialConditionDetails"></display-settings>
            </div>
        </div>
    </div>
    <div ng-repeat="environment in data.environments">
        <div class="row col-xs-12">
            <div class="form-group">
                <label class="control-label" style="text-transform: uppercase">
                    <strong class="sub-content-heading">Environment {{$index + 1}}</strong>
                </label>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-md-6">
                <div class="form-group" ng-repeat="(key, value) in environment.managementDetailValues">
                    <div class="col-xs-5 1st">
                    <span style="word-wrap: break-word" class="control-label nursery-level-label
                        label-bold var-names">{{data.managementDetails[key].variable.name}}</span>
                    </div>
                    <div class="col-xs-7 2nd">
                        <show-setting-form-element settings="data.managementDetails" targetkey="{{key}}"
                                                   valuecontainer="environment.managementDetailValues"></show-setting-form-element>
                    </div>
                </div>
            </div>
            <div class="col-xs-6 col-md-6">
                <div class="form-group" ng-repeat="(key, value) in environment.trialDetailValues">
                    <div class="col-xs-5 1st">
                    <span style="word-wrap: break-word" class="control-label nursery-level-label
                        label-bold var-names">{{data.trialConditionDetails[key].variable.name}}</span>
                    </div>
                    <div class="col-xs-7 2nd">
                        <show-setting-form-element settings="data.trialConditionDetails" targetkey="{{key}}"
                                                   valuecontainer="environment.trialDetailValues"></show-setting-form-element>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-xs-12 col-md-12">
            <div id="showBaselineTraitDetails" th:include="/NurseryManager/includes/baselineTraitDetails"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12 col-md-12">
            <div th:include="/NurseryManager/includes/variableSelectionModal"></div>
        </div>
    </div>
</div>
