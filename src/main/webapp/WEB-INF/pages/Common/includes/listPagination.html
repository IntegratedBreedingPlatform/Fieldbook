<div class="col-xs-12 col-md-12 main-inventory" style="opacity: 0.1">   
<form id="germplasm-list-form" role="form-horizontal" class="form-horizontal" action="#"
  enctype="multipart/form-data">
     
     <input type="hidden" th:field="*{listId}"/>
      
    <!-- case 1: no data means no table -->
     <div th:if="*{germplasmList == null or #lists.isEmpty(germplasmList)}">
       <span class="noGermplasmListIndicator" th:text="#{nursery.import.no.germplasm.list}">No Germplasm list</span>
     </div>
     
     <!-- case 2: advanced view of the importedGermplasm -->
     <div  class="advance-nursery-list-table" th:if="*{germplasmList != null and not #lists.isEmpty(germplasmList)}">
         <table id="inventory-table" th:if="*{not #lists.isEmpty(germplasmList)}"
         class="table-curved table-condensed final-advance-list">
           <thead>
             <tr>
               <th nowrap="nowrap" th:each="tableHeader : ${tableHeaderList}" th:text="${tableHeader.columnName}"  th:attr="data-col-name=${tableHeader.dataCol}" ></th>
             </tr>
           </thead>
           <tbody>
             <tr class="primaryRow" th:each="germplasm, row : *{germplasmList}" th:attr="data-gid=${germplasm.germplasmId}">
                <td th:class="${row.even}? 'even' : 'odd'" th:text="${germplasm.entryId}">.1</td>
                <td th:class="${row.even}? 'even' : 'odd'" >
					<a href="javascript: void(0)" onclick="javascript: openGermplasmDetailsPopop(this)" th:text="${germplasm.designation}" th:attr="data-gid=${germplasm.germplasmId}" th:attrappend="data-desig=${germplasm.designation}">.2</a>
				</td>
               <td th:class="${row.even}? 'even' : 'odd'" th:text="${germplasm.groupName}">.2</td>
               <td th:class="${row.even}? 'even' : 'odd'" >
               	<a href="javascript: void(0)" onclick="javascript: openGermplasmDetailsPopop(this)" th:text="${germplasm.germplasmId}" th:attr="data-gid=${germplasm.germplasmId}" th:attrappend="data-desig=${germplasm.designation}">.3</a>
               </td>
               <td th:class="${row.even}? 'even' : 'odd'" th:text="${germplasm.seedSource}">.2</td>

             </tr>
           </tbody>
         </table> 
     </div>	     
     </form>
     
 </div>
 <br />
 		
<script type='text/javascript' th:inline="javascript">
	//<![CDATA[
    /*globals getJquerySafeId, showMultiTabPage, truncateStudyVariableNames*/
    /*exported paginationUrl, options*/
		
        var ListPage = {
        	setupPage : function(){
        		var listDivIdentifier  = '';
                if($('#create-nursery-tab-headers .tabdrop').hasClass('active')){
              	  //means the active is in the tab drop
              	  listDivIdentifier  = $('#create-nursery-tab-headers .tabdrop li.active .fbk-close-tab').attr('id');
                }else{
              	  listDivIdentifier  = $('#create-nursery-tab-headers li.active .fbk-close-tab').attr('id');
                }
                
                var sectionContainerDiv = 'advance-list'+listDivIdentifier;
            	
          		
        		$('#'+getJquerySafeId(sectionContainerDiv) + ' .selectAllAdvance').on('change', function(event){
        			//select all the checkbox in the section container div										
        				//needed set time out since chrme is not able to rnder properly the checkbox if its checked or not
        				setTimeout(function(){
        					var isChecked = $('#'+getJquerySafeId(sectionContainerDiv) + ' .selectAllAdvance').prop('checked');
        					$('#'+getJquerySafeId(sectionContainerDiv) + ' .advance-nursery-list-table #inventory-table tr').removeClass('selected');
          				$('#'+getJquerySafeId(sectionContainerDiv) + ' .advance-nursery-list-table #inventory-table tr').removeClass('manual-selected');

          				if(isChecked){
          					$('#'+getJquerySafeId(sectionContainerDiv) + ' .advance-nursery-list-table #inventory-table tr').addClass('selected');
              				$('#'+getJquerySafeId(sectionContainerDiv) + ' .advance-nursery-list-table #inventory-table tr').addClass('manual-selected');
          				}
          				$('#'+getJquerySafeId(sectionContainerDiv) + ' .numberOfAdvanceSelected').html($('#'+getJquerySafeId(sectionContainerDiv) + ' tr.primaryRow.selected').length);
        				}, 10);
        				
        			});
        		
        		$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table').tableSelect({
        			onClick: function(row) {
        				//we clear all check
        				if($('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table').data('check-click') === '1'){
        					$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table').data('check-click', '0');
        					$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table tr.manual-selected').addClass('selected');
        				}else{
        					$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table tr.manual-selected').removeClass('manual-selected');
        				}
        				$('#'+getJquerySafeId(sectionContainerDiv) + ' .numberOfAdvanceSelected').html($('#'+getJquerySafeId(sectionContainerDiv) + ' tr.primaryRow.selected').length);
        			},
        			onCtrl: function(row){
        				
        				if($(row).hasClass('manual-selected') || $(row).hasClass('selected')){
        					$(row).addClass('selected');
        				}else{
        					$(row).removeClass('selected');
        				}
        				if($('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table').data('check-click') === '1'){
        					$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table').data('check-click', '0');
        					if($(row).hasClass('selected') && $(row).hasClass('manual-selected') === false){
        						$(row).removeClass('selected');
        					}
        				}
        				$('#'+getJquerySafeId(sectionContainerDiv) + ' .numberOfAdvanceSelected').html($('#'+getJquerySafeId(sectionContainerDiv) + ' tr.primaryRow.selected').length);
        			},
        			onShift: function(){
        				$('#' + sectionContainerDiv + ' .advance-nursery-list-table #inventory-table tr.manual-selected-dummy').addClass('selected');					
        				$('#'+getJquerySafeId(sectionContainerDiv) + ' .numberOfAdvanceSelected').html($('tr.primaryRow.selected').length);
        			}
        		
        		});

        		truncateStudyVariableNames('#' + sectionContainerDiv + ' .advance-nursery-list-table .advance-list-comment', 30);
        		        		
        		new BMS.Fieldbook.FinalAdvancedGermplasmListDataTable('#'+sectionContainerDiv + ' .final-advance-list', '#'+sectionContainerDiv, null);
        		$('#' + sectionContainerDiv + ' .main-inventory').css('opacity', 1);
        	}	
        };
    
        $( document ).ready(function() {  
            'use strict';
             setTimeout(ListPage.setupPage, 3);
          });
      //]]>
    </script>