<div class="col-md-12" xmlns:th="http://www.thymeleaf.org">
	<div class="page-header">
		<h1>
			Test Tree View new1
		</h1>				
	</div>
	
	<div id="studyTree" class="well"></div>

</div>

<script type="text/javascript" th:inline="javascript">
	$(function() {
		var jsonObj = JSON.parse(
				/*[[${rootFolders}]]*/
				);
		
		$("#studyTree").dynatree({
			title: "study tree",
			checkbox: false,
			noLink: false,
			children: jsonObj,
			imagePath: "../img/",
			clickFolderMode: 2,
			onLazyRead: function(node) {
				node.appendAjax({
					url: "expandtree" + "?parentId=" + node.data.key,
					dataType: "json",
					success: function(node) {
						//do nothing
					},
					error: function(node, XMLHttpRequest, textStatus, errorThrown) {
						console.log("The following error occured: " + textStatus, errorThrown); 
					},
					cache: false
				});
			},
			onExpand: function(flag, node) {
				//alert('onExpand ' + flag);
			},
			onActivate: function(node) {
				//alert('onActivate ' + node.data.title);
			},
			onDeactivate: function(node) {
				//alert('onDeactivate ' + node.data.title);
			},
			classNames: {
				nodeIcon: "glyphicon glyphicon-folder-close"
			}
		});
	});
</script>



